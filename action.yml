name: ci
inputs:
  dockerfile-target:
    description: 'Dockerfile target name'
    required: true
  image-tag:
    description: 'Docker image tag name'
    required: true
runs:
  using: composite
  steps:
  - uses: actions/checkout@v3
  - run: docker build --target ${{inputs.dockerfile-target}} -t ${{inputs.image-tag}} .
    shell: bash
  - run: docker run --rm ${{inputs.image-tag}}
    shell: bash
